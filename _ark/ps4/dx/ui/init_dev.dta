#define CREATE_SETTINGS_DIRS
(
	{file_mkdir "data:/GoldHen/RB4DX-1.08/plugin"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/visuals"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/venue"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/gameplay"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/sfx"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/controller"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/controller/type"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/controller/type/gtr"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/controller/type/drum"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/controller/type/vox"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/controller/binding"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/controller/binding/pad"} ;TODO: maybe add bindings for non-pad controllers?
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/theme"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/theme/gem"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/settings/theme/gem/colors"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/ps4/ui/background"}
	{file_mkdir "data:/GoldHen/RB4DX-1.08/ps4/ui/game"}
)

CREATE_SETTINGS_DIRS

;clear invalid files
{if {! {file_exists "settings/venue/enabled.dta"}}
	DELETE_INVALID_VENUE_DTAS
}
{if {file_exists "plugin/insong.dta"}
   {dx_file_delete "plugin/insong.dta"}
   {dx_emu_file_delete "plugin" "insong.dta"}
}
{if {file_exists "plugin/speedmod.ini"}
	{dx_file_delete "plugin/speedmod.ini"}
	{dx_emu_file_delete "plugin" "speedmod.ini"}
}
{if {file_exists "plugin/autoplay.ini"}
   {dx_file_delete "plugin/autoplay.ini"}
   {dx_emu_file_delete "plugin" "autoplay.ini"}
}
{if {file_exists "plugin/drunkmode.ini"}
   {dx_file_delete "plugin/drunkmode.ini"}
   {dx_emu_file_delete "plugin" "drunkmode.ini"}
}
{write_file "data:/GoldHen/RB4DX-1.08/plugin/saving.ini" ()}